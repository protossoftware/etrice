<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Setting up the Workspace for C Projects</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<!-- xhtml,3,next,html --> 
<meta name="src" content="etrice-doc.tex" /> 
<meta name="date" content="2015-06-16 18:34:00" /> 
<link rel="stylesheet" type="text/css" href="etrice-doc.css" /> 
</head><body 
>
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="etrice-docse6.html" >next</a>] [<a 
href="etrice-docse4.html" >prev</a>] [<a 
href="etrice-docse4.html#tailetrice-docse4.html" >prev-tail</a>] [<a 
href="#tailetrice-docse5.html">tail</a>] [<a 
href="etrice-docch2.html#etrice-docse5.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">2.3   </span> <a 
 id="x9-270003"></a>Setting up the Workspace for C Projects</h3>
<!--l. 3--><p class="noindent" ><span 
class="ec-lmssbx-10">Objectives for this tutorial:</span> </p>
     <ul class="itemize1">
     <li class="itemize">create all needed library projects (runtime.c and modellib.c)
     </li>
     <li class="itemize">create the tutorial project with the examples
     </li>
     <li class="itemize">create the project with a traffic light simulator
     </li>
     <li class="itemize">test the workspace setup by running one of the examples</li></ul>
<a 
 id="x9-27001r42"></a>
<h4 class="subsectionHead"><span class="titlemark">2.3.1   </span> <a 
 id="x9-280001"></a>Create Library, Tutorial and Simulator Projects</h4>
<!--l. 13--><p class="noindent" >Before you can start with C, some preconditions must be fulfilled:
</p>
     <ul class="itemize1">
     <li class="itemize">A C compiler must be installed on your machine. All tutorials are based on MinGW/GCC (Windows) and
     Posix/GCC (Linux), but currently only tested on Windows with MinGW/GCC
     </li>
     <li class="itemize">The C/C++ Development Tools (CDT) must be installed in Eclipse as the C development environment.</li></ul>
<!--l. 20--><p class="noindent" >After installation of eTrice in Eclipse, your workspace should look like this (note the eTrice item in the main
menu):
</p><!--l. 22--><p class="noindent" ><img 
src="images/013-SetupWorkspace01.png" alt="PIC"  
 />
</p><!--l. 24--><p class="noindent" >Select the menu <span 
class="ec-lmsso-10">File-&#x003E;New-&#x003E;Other</span>
</p><!--l. 26--><p class="noindent" ><img 
src="images/013-SetupWorkspace02.png" alt="PIC"  
 />
</p><!--l. 28--><p class="noindent" >Open the <span 
class="ec-lmsso-10">eTrice </span>folder and select <span 
class="ec-lmsso-10">eTrice C Runtime</span>
</p><!--l. 30--><p class="noindent" >Press <span 
class="ec-lmsso-10">Next </span>and <span 
class="ec-lmsso-10">Finish </span>to install the Runtime into your workspace.
</p><!--l. 32--><p class="noindent" ><img 
src="images/014-SetupWorkspaceC005.png" alt="PIC"  
 />
</p><!--l. 34--><p class="noindent" >Do the same steps for <span 
class="ec-lmsso-10">eTrice C Modellib</span>, <span 
class="ec-lmsso-10">eTrice C Tutorials </span>and <span 
class="ec-lmsso-10">eTrice Trafficlight for Tutorials</span>. To avoid temporary
error markers you should keep the proposed order of installation. The resulting workspace should look like
this:
</p><!--l. 38--><p class="noindent" ><img 
src="images/014-SetupWorkspace007.png" alt="PIC"  
 />
<a 
 id="x9-28001r44"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">2.3.2   </span> <a 
 id="x9-290002"></a>Perform Setup Test</h4>
<!--l. 42--><p class="noindent" >To check the correct setup of your workspace we run a little test project contained in the tutorial project.
</p><!--l. 44--><p class="noindent" >The tutorial models are available in the <span 
class="ec-lmsso-10">org.eclipse.etrice.tutorials.c </span>project. All tutorials are ready to generate and run
without any changes. To test the code generator and the workspace setup simply run <span 
class="ec-lmsso-10">gen_SetupTestC.launch </span>as
<span 
class="ec-lmsso-10">gen_SetupTestC</span>:
</p><!--l. 47--><p class="noindent" ><img 
src="images/014-05-gen_SetupTestC.png" alt="PIC"  
 />
</p><!--l. 49--><p class="noindent" >The successful generation ends with <span 
class="ec-lmtt-10">Info: &#8211; finished code generation </span>in the Console.
                                                                                            
                                                                                            
</p><!--l. 51--><p class="noindent" ><img 
src="images/014-06-FinishedCodeGeneration.png" alt="PIC"  
 />
</p><!--l. 53--><p class="noindent" >For each tutorial in the folder src-gen a sub folder is generated which contains the generated code. The file <span 
class="ec-lmsso-10">&#x003C;...&#x003E;_Runner.c</span>
contains the main function. To run the generated application you first have to compile the project (with the hammer symbol
in the C/C++ Perspective).
</p><!--l. 55--><p class="noindent" ><span 
class="ec-lmssbx-10">Caution: </span>make sure to choose the correct build configuration for your environment.
</p><!--l. 57--><p class="noindent" ><img 
src="images/014-07-Compile.png" alt="PIC"  
 />
</p><!--l. 59--><p class="noindent" >If the compilation does not succeed, make sure to clean and compile the projects <span 
class="ec-lmsso-10">org.eclipse.etrice.runtime.c </span>and
<span 
class="ec-lmsso-10">org.eclipse.etrice.modellib.c </span>with the correct build configuration for your platform. Depending on the setup of
your C compiler and CDT you might have to change the predefined build configurations <span 
class="ec-lmsso-10">MinGWDebug </span>or
<span 
class="ec-lmsso-10">PosixDebug</span>.
</p><!--l. 61--><p class="noindent" >After the successful compilation you can run the application as <span 
class="ec-lmsso-10">Local C/C++ Application</span>.
</p><!--l. 63--><p class="noindent" >If the binaries are not detected by CDT then in the project properties go to C/C++ Build &#x003E; Settings &#x003E; Binary Parsers and
select "PE Windows Parser" (for Windows) or "GNU Elf Parser" (for Linux/Unix). Then the binary will be
detected.
</p><!--l. 66--><p class="noindent" >If this still doesn&#8217;t help then an alternative is to create a C/C++ launch configuration manually and enter the path to the
executable.
</p><!--l. 68--><p class="noindent" ><img 
src="images/014-08-RunAsC-CPP-Application.png" alt="PIC"  
 />
</p><!--l. 70--><p class="noindent" >To terminate the application type <span 
class="ec-lmsso-10">quit </span>in the console window. If your Console contains the lines
                                                                                            
                                                                                            
</p>
<div class="verbatim" id="verbatim-2">
******************
&#x00A0;<br />***&#x00A0;Setup&#x00A0;OK&#x00A0;***
&#x00A0;<br />******************
</div>
<!--l. 75--><p class="nopar" > your setup should be ok.
</p><!--l. 78--><p class="noindent" ><img 
src="images/014-09-ConsoleWithSetupOk.png" alt="PIC"  
 />
</p><!--l. 80--><p class="noindent" >Now the workspace is set up and you can perform the tutorials or start with your work.
                                                                                            
                                                                                            
</p>
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="etrice-docse6.html" >next</a>] [<a 
href="etrice-docse4.html" >prev</a>] [<a 
href="etrice-docse4.html#tailetrice-docse4.html" >prev-tail</a>] [<a 
href="etrice-docse5.html" >front</a>] [<a 
href="etrice-docch2.html#etrice-docse5.html" >up</a>] </p></div>
<!--l. 1--><p class="noindent" ><a 
 id="tailetrice-docse5.html"></a></p> 
</body></html> 
